var rstr2utf8=function(e){"use strict";for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},utf82rstr=function(e){"use strict";for(var t="",n=0,r=0,s=0,o=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(s=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&s),n+=2):(s=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o),n+=3);return t},HEX_DIGITS=2,strlpad=function(e,t,n){"use strict";for(;e.length<n;)e=t+e;return e},str2hex=function(e){"use strict";for(var t="",n=0;n<e.length;n++)t+=strlpad(e.charCodeAt(n).toString(16),"0",HEX_DIGITS);return t},strpart=function(e,t){"use strict";if(t>0)return e.match(new RegExp(".{1,"+t+"}","g"));if(t<0){for(var n=Math.abs(t),r=Math.ceil(e.length/n)*n-e.length,s="",o=0;o<r;o++)s+="_";return(s=(s+=e).match(new RegExp(".{1,"+n+"}","g")))[0]=s[0].substr(r,n-r),s}},hex2str=function(e){"use strict";for(var t=strpart(e,HEX_DIGITS),n="",r=0;r<t.length;r++)n+=String.fromCharCode(parseInt(t[r],16));return n};function add(e,t,n){"use strict";var r=[],s=0,o=Math.max(e.length,t.length);if(e.length<t.length)for(s=e.length;s<o;s++)e.push(0);if(t.length<e.length)for(s=t.length;s<o;s++)t.push(0);for(var a=0,u=0;u<o;){var c=a+e[u]+t[u];r.push(c%n),a=Math.floor(c/n),u++}return a&&r.push(a%n),r}function multiplyByNumber(e,t,n){"use strict";if(e<0)return null;if(0===e)return[];for(var r=[],s=t;1&e&&(r=add(r,s,n)),0!=(e>>=1);)s=add(s,s,n);return r}var enableMemoizing=!0;function parseToDigitsArray(e,t){"use strict";for(var n=e.split(""),r=[],s=n.length-1;s>=0;s--){var o=parseInt(n[s],t);if(isNaN(o))return null;r.push(o)}return r}function convertBase(e,t,n){"use strict";var r=parseToDigitsArray(e,t);if(null===r)return null;var s,o,a=[],u=[1],c=0;if(2===t||2===n)for(c=0;c<r.length;c++)r[c]&&(a=add(a,multiplyByNumber(r[c],u,n),n)),u=multiplyByNumber(t,u,n);else for(a=[0],o=t,c=r.length-1;c>=0;c--)s=multiplyByNumber(r[c],Array.apply(null,new Array(r[c].length)).map(Number.prototype.valueOf,1),t),a=add(multiplyByNumber(o,a,n),s,n);var i="";for(c=a.length-1;c>=0;c--)i+=a[c].toString(n);return i}function hexToBin(e){"use strict";var t=convertBase(e,16,2);return t.length%2==0?t:"0"+t}function binToHex(e){"use strict";var t=convertBase(e,2,16);return t.length%2==0?t:"0"+t}function decToHex(e){"use strict";var t=convertBase(e,10,16);return t.length%2==0?t:"0"+t}function hexToDec(e){"use strict";return convertBase(e,16,10)}String.prototype.escapeHTML=function(){"use strict";return this.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\n\r/g,"<br/>").replace(/\n/g,"<br>").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;").replace(/"/g,"&quot;")},String.prototype.unescapeHTML=function(){"use strict";return this.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/<br\s*[\/]?>/gi,"\n").replace(/&#039;/g,"'").replace(/&#x2F;/g,"/").replace(/&quot;/g,'"')};var A_SYMBOL="",NATURAL="&#8469;",getChoosenSystem=function(){"use strict";return document.getElementById("numbersystem").value};function css(e,t,n){"use strict";for(var r=0;r<document.styleSheets.length;r++)try{document.styleSheets[r].insertRule(e+" {"+t+":"+n+"}",document.styleSheets[r].cssRules.length)}catch(s){try{document.styleSheets[r].addRule(e,t+":"+n)}catch(e){}}}let urlPic;var onceLoad=!1;async function normalizeCSS(){"use strict";var e=getChoosenSystem(),t=new Image;onceLoad||(urlPic="../img/background.jpg");var n=!1;try{if(!onceLoad){var r=await fetch("https://api.unsplash.com/photos/random?client_id=EYqyBXwouHrW8sF752zBixhG866dThdUH8z8-3s3ZK4"),s=await r.json();urlPic=s.urls.regular,onceLoad=!0}}catch(e){onceLoad=!1,n=!0}t.onload=function(){"dec"===e?(css("body","background",'url("'+urlPic+'") center center no-repeat'),css("#result","background","rgba(255, 255, 255,.8)"),document.getElementById("txtIn").style.background="rgba(255, 255, 255,.8)",css("body","background-attachment","fixed"),css("body","background-size","cover")):"hex"===e?(css("body","background",'url("'+urlPic+'") center center no-repeat'),css("#result","background","rgba(200, 255, 200,.8)"),document.getElementById("txtIn").style.background="rgba(200, 255, 200,.8)",css("body","background-attachment","fixed"),css("body","background-size","cover")):"bin"===e&&(css("body","background",'url("'+urlPic+'") center center no-repeat'),css("#result","background","rgba(200, 200, 255,.8)"),document.getElementById("txtIn").style.background="rgba(200, 200, 255,.8)",css("body","background-attachment","fixed"),css("body","background-size","cover"))},n?t.onload():(t.src=urlPic,t.complete&&t.onload()),css("body","color","black")}var syscloud=function(){"use strict";return normalizeCSS(),""},errstyle=function(e){"use strict";return'<p class="err msg">'+A_SYMBOL+" "+e+"</p>"},systyle=function(e){"use strict";return'<p class="sys msg">'+A_SYMBOL+" "+e+" </p>"},MAX_SIZE_LIST=8e3,MAX_SIZE_LISTINV=15e3,effect=function(e){"use strict";return"The Matrix"===e&&(css("body","background","black"),css("body","color","green"),css("#text","background","black"),!0)},setVisible=function(e,t){var n=t?"visible":"hidden";null!==e&&(e.style.visibility=n)},setDisplay=function(e,t){var n=t?"block":"none";e.style.display=n},setDisplayParse=function(e){"use strict";setDisplayActionsRecuadro(e);var t=document.getElementById("parseEnable"),n=document.getElementById("parseEnableTxt"),r=document.getElementById("tdParseButton");null!==t&&null!==n&&(setDisplay(t,e),setDisplay(n,e),setDisplay(r,e))},setDisplayDownload=function(e){"use strict";setDisplayActionsRecuadro(e);var t=document.getElementById("saveButton");null!==t&&(setDisplay(t,e),!0===document.getElementById("chooseButton").checked?t.className="myButton number":t.className="myButton data"),setDisplayShare(e)},setDisplayActionsRecuadro=function(e){var t=document.getElementById("actions");setDisplay(t,e)},setDisplayButtons=function(e){"use strict";setDisplayParse(e),setDisplayDownload(e)},setVisibleButtons=function(e){"use strict";var t=document.getElementById("parseEnable"),n=document.getElementById("parseEnableTxt"),r=document.getElementById("tdParseButton");setVisible(t,e),setVisible(n,e),setVisible(r,e);var s=document.getElementById("saveButton");setVisible(s,e);var o=document.getElementById("sharediv");setVisible(o,e)};function setDisplayShare(e){"use strict";if(e){var t=document.createElement("a");t.href="#",t.innerHTML="",t.setAttribute("style","text-decoration:none;"),document.getElementById("sharediv").innerHTML="",document.getElementById("sharediv").appendChild(t),setDisplay(document.getElementById("sharediv"),!0)}else{var n=document.getElementById("sharediv");setDisplay(n,!1),n.innerHTML="",n.style.display="none"}}var theListInverse=function(e){"use strict";var t,n,r=document.getElementById("numbersystem"),s="dec";return null!==r&&"null"!==r&&(s=r.value),t="hex"===s?e:"bin"===s?binToHex(e):decToHex(e),n=hex2str(t),utf82rstr(n)},theList=function(e){"use strict";var t=rstr2utf8(e),n=str2hex(t),r=document.getElementById("numbersystem"),s="dec";return null!==r&&"null"!==r&&(s=r.value),"hex"===s?n:"bin"===s?hexToBin(n):hexToDec(n)};function memoizeList(e){"use strict";return enableMemoizing?(memoizeList.cache||(memoizeList.cache={}),memoizeList.cache[e]||(memoizeList.cache[e]=theList(e)),memoizeList.cache[e]):theList(e)}function memoizeListInv(e){"use strict";if(enableMemoizing){if(memoizeListInv.cache||(memoizeListInv.cache={}),!memoizeListInv.cache[e]){var t=theListInverse(e);memoizeListInv.cache[e]=t}return memoizeListInv.cache[e]}return theListInverse(e)}var MSG_FOR_FILE_SOURCE="Search file content",MSG_FOR_KEYBOARD_SOURCE="Search what you type..or drop a file!",fileMode,getDataSource=function(){"use strict";return document.getElementById("txtIn").value},setDataSourceToKeyboard=function(e){"use strict";(fileMode||e)&&(fileMode=!1,document.getElementById("txtIn").title=MSG_FOR_KEYBOARD_SOURCE,document.getElementById("txtIn").focus(),window.getDataSource=function(){return document.getElementById("txtIn").value},setVisible(progress,!1))},escondeDuende=function(){duendeActual.style.display="none",document.getElementById("duendecontainer").style.display="none"},muestraDuende=function(){duendeActual.style.display="block",document.getElementById("duendecontainer").style.display="block"};function encode_utf8(e){return unescape(encodeURIComponent(e))}function decode_utf8(e){return decodeURIComponent(escape(e))}function atobNew(e){return atob(e)}function btoaNew(e){return btoa(e)}var setDataSourceToFile=function(e){"use strict";fileMode&&!e||(fileMode=!0,document.getElementById("txtIn").title=MSG_FOR_FILE_SOURCE,document.getElementById("txtIn").style.background="#5F9EA0",document.getElementById("result").innerHTML="",window.getDataSource=function(){return utf82rstr(btoaNew(reader.result))},muestraDuende())},clearIn=function(){"use strict";markTextInAsModificado(),setDataSourceToKeyboard(!1)};function isEmpty(e){return!e||0===e.length}var getFileFoundMessage=function(e){if(pareceBase64(e))try{var t=atobNew(e),n=guessExtension(t);if(!isEmpty(n)){var r=getTypeFromExt(n);return systyle("..it seems you found "+r+" file.")}}catch(e){return""}return""},MAX_SEARCH_LEN_DATA_TO_NUMBER=500,MAX_SEARCH_LEN_NUMBER_TO_DATA=1e3,showFileFoundMessage=function(){var e=document.getElementById("txtIn").value.length,t=document.getElementById("chooseButton").checked;(e<=MAX_SEARCH_LEN_DATA_TO_NUMBER&&t||e<=MAX_SEARCH_LEN_NUMBER_TO_DATA&&!t)&&(document.getElementById("erms").innerHTML=getFileFoundMessage(document.getElementById("result").innerHTML))},lista=function(e,t,n){"use strict";2===arguments.length&&(n=function(){showFileFoundMessage()});var r="";return setTimeout((function(){try{if(null!==e){var s=e.length;if(0!==e.length){var o=!0,a=getChoosenSystem();if(s>MAX_SIZE_LIST&&"hex"!==a&&(o=window.confirm("BIG Search in other than Hex will be VERY slow, "+s+" bytes, sure? are you ok?")),o)return setDisplayButtons(!1),r=memoizeList(e),t&&setDisplayButtons(!0),document.getElementById("result").innerHTML=r,r}}setDisplayButtons(!1),document.getElementById("result").innerHTML=syscloud()}catch(e){r="System error.["+e+"]",document.getElementById("erms").innerHTML=errstyle(r),document.getElementById("result").innerHTML=""}finally{return n(),r}}),0),r},calcuLen=function(e){"use strict";var t=e.split(" "),n=0;for(var r in t)n+=t[r].length;return n},resultIsCopiable=function(){"use strict";return!(-1!==document.getElementById("result").innerHTML.indexOf("<html>"))};function customAlert(e,t){"use strict";var n=document.createElement("div");n.setAttribute("style","border: solid 3px Green; text-align:center; width:auto;height:4em;background-color:#DEF;color:Gray; font-family:consolas;"),n.innerHTML="<h4>"+e+"</h4>",setTimeout((function(){n.parentNode.removeChild(n)}),t),document.body.appendChild(n)}var copyToTxtIn=function(){"use strict";if(!0!==document.getElementById("chooseButton").checked){var e=document.getElementById("result").innerHTML.unescapeHTML();e=getOnlyNumbers(e,getChoosenSystem()),document.getElementById("txtIn").value=e}else resultIsCopiable()?document.getElementById("txtIn").value=document.getElementById("result").innerHTML.unescapeHTML():clearIn()},getOnlyNumbers=function(e,t){"use strict";var n=e,r=/(\r\n|\n|\r)/gm;return n.replace(r,""),"dec"===t?r=/\D/g:"hex"===t?r=/(?![0-9a-fA-F])./g:"bin"===t&&(r=/(?![0-1])./g),n.replace(r,"")},clickTheChoosen=function(){"use strict";if(!0===document.getElementById("chooseButton").checked)return""===getDataSource()?"false":"lista";var e=getChoosenSystem(),t=getOnlyNumbers(document.getElementById("txtIn").value,e);if(document.getElementById("txtIn").value.length!==t.length){document.getElementById("txtIn").value=t}return""===getDataSource()?"false":"listaInv"},guessFileType=function(e){"use strict";for(var t in filetypes={"FF D8 FF":['<img src="data:image/jpg;base64,','"/>',".jpg"],"89 50 4E 47 0D 0A 1A 0A":['<img src="data:image/png;base64,','"/>',".png"],"47 49 46 38":['<img src="data:image/gif;base64,','"/>',".gif"],"49 20 49":['<img src="data:image/tiff;base64,','"/>',".tif"],"49 44 33":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/mpeg;base64,','"/>',".mpg"],"4F 67 67 53":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/ogg;base64,','"/>',".ogg"],"52 49 46 46":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/wav;base64,','"/>',".wav"],"FF F3":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/mp3;base64,','"/>',".mp3"],"66 74 79 70":['<video controls><source type="video/mp4" src="data:video/mp4;base64,','"></video>',".mp4"],"00 00 00 1c 66 74 79 70":['<video controls><source type="video/mp4" src="data:video/mp4;base64,','"></video>',".mp4"],"25 50 44 46":['<embed src="data:application/pdf;base64,','">',".pdf"],"4D 5A":['<embed src="data:application/octet-stream;base64,','">',".exe"],"50 4B":['<embed src="data:application/x-compressed;base64,','">',".zip"],"50 4B 03 04 14":['<embed src="data:application/java-archive;base64,','">',".jar"],"52 61 72 21 1A 07":['<embed src="data:application/x-rar-compressed','">',".rar"]},filetypes)if(filetypes.hasOwnProperty(t)){var n=t.split(" ");if(e.length>=n.length){var r=0,s=0;for(s=0;s<n.length;s++){if(e.charCodeAt(s)!==parseInt(n[s],16))break;r++}if(r===n.length)return filetypes[t]}}return null},getTypeFromExt=function(e){switch(e){case".jpg":case".gif":case".png":case".tif":return"an image";case".mp4":return"a movie";case".mpg":case".ogg":case".wav":case".mp3":return"a sound";case".pdf":return"a pdf";case".exe":return"an executable";case".rar":case".zip":return"a compressed";case".jar":return"a java";default:return"a"}},guessExtension=function(e){var t=guessFileType(e);return null!==t?t[2]:""},guessParsing=function(e){"use strict";var t=null;try{var n=atobNew(utf82rstr(e));t=guessFileType(n)}catch(e){}if(null!==t)return t[0]+utf82rstr(e)+t[1];try{return utf82rstr(atobNew(e)).escapeHTML()}catch(t){return utf82rstr(e)}},lastInput="",listaInv=function(input,searchWhileType,atEnds){"use strict";2===arguments.length&&(atEnds=function(){showFileFoundMessage()});var reproceso=!1;lastInput===input&&(reproceso=!0),lastInput=input;var result="";return setTimeout((function(){try{if(null!==input){var len=input.length;if(0!==len){var confirmSearch=!0,choosen=getChoosenSystem();if(len>MAX_SIZE_LISTINV&&"hex"!==choosen&&(confirmSearch=window.confirm("BIG Parse!! "+len+" bytes, sure? are you ok?")),confirmSearch){if(result=memoizeListInv(input),(searchWhileType||reproceso)&&setDisplayButtons(!0),effect(result),document.getElementById("parseEnable").checked){document.getElementById("result").innerHTML=guessParsing(result);var scripts=document.getElementById("result").getElementsByTagName("script");if(null!==scripts)for(var i=0;i<scripts.length;i++)eval(scripts[i].text)}else document.getElementById("result").innerHTML=result.escapeHTML();return result}}}document.getElementById("result").innerHTML=syscloud()}catch(e){var choosen=getChoosenSystem();result=choosen+" numbers only.",document.getElementById("erms").innerHTML=errstyle(result),document.getElementById("result").innerHTML="",setDisplayButtons(!1)}finally{return atEnds(),result}}),0),result},pareceBase64=function(e){return!!/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/.test(e)};function guardaPlain(e,t){var n=new Blob([t]);saveAs(n,e)}function saveResult(){var e=document.getElementById("result").innerHTML;if(!document.getElementById("chooseButton").checked&&pareceBase64(e))try{for(var t=atobNew(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);blob=new Blob([r]),saveAs(blob,"listFile"+guessExtension(t))}catch(t){guardaPlain("listItem.html",e)}else guardaPlain("listIndex.html",e)}function getURLParameter(e){"use strict";return decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function fireFromURL(){"use strict";var e=getURLParameter("id"),t=getURLParameter("dl"),n=getURLParameter("guess"),r=getURLParameter("sys"),s=getURLParameter("light");null!==e&&"null"!==e&&void 0!==e&&(document.getElementById("chooseButton").checked=!0,document.getElementById("txtIn").value=e,null!==n&&"null"!==n&&void 0!==n&&(document.getElementById("parseEnable").checked="true"===n),null!==r&&"null"!==r&&void 0!==r&&(document.getElementById("numbersystem").value=r),null!==s&&"null"!==s&&void 0!==s&&"off"===s?(css("body","background","black"),css("body","color","black")):normalizeCSS(),document.getElementById("chooseButton").checked=!1,escondeDuende(),null!==t&&"null"!==t&&void 0!==t&&"true"===t?listaInv(e,!0,saveResult):listaInv(e,!0))}