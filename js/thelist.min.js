var rstr2utf8=function(b){var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a};var utf82rstr=function(b){var a="",f=0,g=0,e=0,d=0;while(f<b.length){g=b.charCodeAt(f);if(g<128){a+=String.fromCharCode(g);f++}else{if((g>191)&&(g<224)){e=b.charCodeAt(f+1);a+=String.fromCharCode(((g&31)<<6)|(e&63));f+=2}else{e=b.charCodeAt(f+1);d=b.charCodeAt(f+2);a+=String.fromCharCode(((g&15)<<12)|((e&63)<<6)|(d&63));f+=3}}}return a};var HEX_DIGITS=2;var strlpad=function(c,b,a){while(c.length<a){c=b+c}return c};var str2hex=function(c){var a="";for(var b=0;b<c.length;b++){a+=strlpad(c.charCodeAt(b).toString(16),"0",HEX_DIGITS)}return a};var strpart=function(e,f){if(f>0){return e.match(new RegExp(".{1,"+f+"}","g"))}else{if(f<0){var d=Math.abs(f),c=(Math.ceil(e.length/d)*d)-e.length,b="";for(var a=0;a<c;a++){b+="_"}b+=e;b=b.match(new RegExp(".{1,"+d+"}","g"));b[0]=b[0].substr(c,d-c);return b}}};var hex2str=function(d){var c=strpart(d,HEX_DIGITS),a="";for(var b=0;b<c.length;b++){a+=String.fromCharCode(parseInt(c[b],16))}return a};function add(g,f,a){var e=[];var c=0;var b=Math.max(g.length,f.length);if(g.length<f.length){for(c=g.length;c<b;c++){g.push(0)}}if(f.length<g.length){for(c=f.length;c<b;c++){f.push(0)}}var h=0;var d=0;while(d<b){var j=h+g[d]+f[d];e.push(j%a);h=Math.floor(j/a);d++}if(h){e.push(h%a)}return e}function multiplyByNumber(c,b,e){if(c<0){return null}if(c===0){return[]}var a=[];var d=b;while(true){if(c&1){a=add(a,d,e)}c=c>>1;if(c===0){break}d=add(d,d,e)}return a}var enableMemoizing=true;function parseToDigitsArray(e,d){var c=e.split("");var b=[];for(var a=c.length-1;a>=0;a--){var f=parseInt(c[a],d);if(isNaN(f)){return null}b.push(f)}return b}String.prototype.escapeHTML=function(){return(this.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\n\r/g,"<br/>").replace(/\n/g,"<br>").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;").replace(/"/g,"&quot;"))};String.prototype.unescapeHTML=function(){return(this.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/<br\s*[\/]?>/gi,"\n").replace(/&#039;/g,"'").replace(/&#x2F;/g,"/").replace(/&quot;/g,'"'))};function convertBase(k,j,f){var c=parseToDigitsArray(k,j);if(c===null){return null}var m=[];var a=[1];var g=0;var d=true;if(!d||j===2||f===2){for(g=0;g<c.length;g++){if(c[g]){m=add(m,multiplyByNumber(c[g],a,f),f)}a=multiplyByNumber(j,a,f)}}else{m=[0];var h,b,l;l=j;for(g=c.length-1;g>=0;g--){h=multiplyByNumber(c[g],Array.apply(null,new Array(c[g].length)).map(Number.prototype.valueOf,1),j);b=multiplyByNumber(l,m,f);m=add(b,h,f)}}var e="";for(g=m.length-1;g>=0;g--){e+=m[g].toString(f)}return e}function hexToBin(b){var a=convertBase(b,16,2);if(a.length%2===0){return a}return"0"+a}function binToHex(a){var b=convertBase(a,2,16);if(b.length%2===0){return b}return"0"+b}function decToHex(b){var a=convertBase(b,10,16);if(a.length%2===0){return a}return"0"+a}function hexToDec(a){return convertBase(a,16,10)}var A_SYMBOL="";var NATURAL="&#8469;";var getChoosenSystem=function(){var a=document.getElementById("numbersystem");var b=a.value;return b};function css(a,e,d){for(var b=0;b<document.styleSheets.length;b++){try{document.styleSheets[b].insertRule(a+" {"+e+":"+d+"}",document.styleSheets[b].cssRules.length)}catch(c){try{document.styleSheets[b].addRule(a,e+":"+d)}catch(c){}}}}function normalizeCSS(){var a=getChoosenSystem();if(a==="dec"){css("body","background",'linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)),url("../img/background.jpg") center center no-repeat');css("body","background-attachment","fixed");css("body","background-size","cover")}else{if(a==="hex"){css("body","background",'linear-gradient(rgba(238, 255, 238, 0.8), rgba(238, 255, 238, 0.8)),url("../img/background.jpg") center center no-repeat');css("body","background-attachment","fixed");css("body","background-size","cover")}else{if(a==="bin"){css("body","background",'linear-gradient(rgba(238, 238, 255, 0.8), rgba(238, 238, 255, 0.8)),url("../img/background.jpg") center center no-repeat');css("body","background-attachment","fixed");css("body","background-size","cover")}}}css("body","color","black");css("#text","background","white")}var syscloud=function(){normalizeCSS();return""};var errstyle=function(a){return'<p class="err msg">'+A_SYMBOL+" "+a+"</p>"};var systyle=function(a){return'<p class="sys msg">'+A_SYMBOL+" "+a+" </p>"};var MAX_SIZE_LIST=8000;var MAX_SIZE_LISTINV=15000;var effect=function(a){if(a==="The Matrix"){css("body","background","black");css("body","color","green");css("#text","background","black");return true}return false};var setVisible=function(c,b){var a=b?"visible":"hidden";if(c!==null){c.style.visibility=a}};var setDisplay=function(b,a){var c=a?"block":"none";b.style.display=c};var setDisplayParse=function(c){setDisplayActionsRecuadro(c);var a=document.getElementById("parseEnable");var b=document.getElementById("parseEnableTxt");var d=document.getElementById("tdParseButton");if(a!==null&&b!==null){setDisplay(a,c);setDisplay(b,c);setDisplay(d,c)}};var setDisplayDownload=function(b){setDisplayActionsRecuadro(b);var a=document.getElementById("saveButton");if(null!==a){setDisplay(a,b);if(document.getElementById("chooseButton").checked===true){a.className="myButton number"}else{a.className="myButton data"}}setDisplayShare(b)};var setDisplayActionsRecuadro=function(b){var a=document.getElementById("actions");setDisplay(a,b)};var setDisplayButtons=function(a){setDisplayParse(a);setDisplayDownload(a)};var setVisibleButtons=function(e){var c=document.getElementById("parseEnable");var d=document.getElementById("parseEnableTxt");var f=document.getElementById("tdParseButton");setVisible(c,e);setVisible(d,e);setVisible(f,e);var a=document.getElementById("saveButton");setVisible(a,e);var b=document.getElementById("sharediv");setVisible(b,e)};function setDisplayShare(c){if(c){var b=document.createElement("a");b.href="#";b.innerHTML="";b.setAttribute("style","text-decoration:none;");document.getElementById("sharediv").innerHTML="";document.getElementById("sharediv").appendChild(b);setDisplay(document.getElementById("sharediv"),true)}else{var a=document.getElementById("sharediv");setDisplay(a,false);a.innerHTML="";a.style.display="none"}}var theListInverse=function(c){var f=document.getElementById("numbersystem");var b,d;var g="dec";if(f!==null&&f!=="null"){g=f.value}if(g==="hex"){b=c}else{if(g==="bin"){b=binToHex(c)}else{b=decToHex(c)}}d=hex2str(b);var a=utf82rstr(d);return a};var theList=function(c){var d=rstr2utf8(c);var b=str2hex(d);var a;var f=document.getElementById("numbersystem");var g="dec";if(f!==null&&f!=="null"){g=f.value}if(g==="hex"){a=b}else{if(g==="bin"){a=hexToBin(b)}else{a=hexToDec(b)}}return a};function memoizeList(a){if(enableMemoizing){if(!memoizeList.cache){memoizeList.cache={}}if(!memoizeList.cache[a]){memoizeList.cache[a]=theList(a)}return memoizeList.cache[a]}else{return theList(a)}}function memoizeListInv(b){if(enableMemoizing){if(!memoizeListInv.cache){memoizeListInv.cache={}}if(!memoizeListInv.cache[b]){var a=theListInverse(b);memoizeListInv.cache[b]=a}return memoizeListInv.cache[b]}else{return theListInverse(b)}}var MSG_FOR_FILE_SOURCE="Search file content";var MSG_FOR_KEYBOARD_SOURCE="Search what you type..or drop a file!";var fileMode;var getDataSource=function(){return document.getElementById("txtIn").value};var setDataSourceToKeyboard=function(a){if(fileMode||a){fileMode=false;document.getElementById("txtIn").style.background="#FFFFFF";document.getElementById("txtIn").title=MSG_FOR_KEYBOARD_SOURCE;document.getElementById("txtIn").focus();window.getDataSource=function(){return document.getElementById("txtIn").value};setVisible(progress,false)}};var escondeDuende=function(){duendeActual.style.display="none";document.getElementById("duendecontainer").style.display="none"};var muestraDuende=function(){duendeActual.style.display="block";document.getElementById("duendecontainer").style.display="block"};function encode_utf8(a){return unescape(encodeURIComponent(a))}function decode_utf8(a){return decodeURIComponent(escape(a))}function atobNew(a){return atob(a)}function btoaNew(a){return btoa(a)}var setDataSourceToFile=function(a){if(!fileMode||a){fileMode=true;document.getElementById("txtIn").title=MSG_FOR_FILE_SOURCE;document.getElementById("txtIn").style.background="#5F9EA0";document.getElementById("result").innerHTML="";window.getDataSource=function(){return utf82rstr(btoaNew(reader.result))};muestraDuende()}};var clearIn=function(){markTextInAsModificado();setDataSourceToKeyboard(false);return};function isEmpty(a){return(!a||0===a.length)}var getFileFoundMessage=function(c){if(pareceBase64(c)){try{var a=atobNew(c);var d=guessExtension(a);if(!isEmpty(d)){var b=getTypeFromExt(d);return systyle("..it seems you found "+b+" file.")}}catch(f){return""}}return""};var MAX_SEARCH_LEN_DATA_TO_NUMBER=500;var MAX_SEARCH_LEN_NUMBER_TO_DATA=1000;var showFileFoundMessage=function(){var a=document.getElementById("txtIn").value.length;var b=document.getElementById("chooseButton").checked;if((a<=MAX_SEARCH_LEN_DATA_TO_NUMBER&&b)||(a<=MAX_SEARCH_LEN_NUMBER_TO_DATA&&!b)){document.getElementById("erms").innerHTML=getFileFoundMessage(document.getElementById("result").innerHTML)}};var lista=function(b,d,c){if(arguments.length===2){c=function(){showFileFoundMessage()}}var a="";setTimeout(function(){try{if(b!==null){var f=b.length;if(b.length!==0){var h=true;var i=getChoosenSystem();if(f>MAX_SIZE_LIST&&i!=="hex"){h=window.confirm("BIG Search in other than Hex will be VERY slow, "+f+" bytes, sure? are you ok?")}if(h){setDisplayButtons(false);a=memoizeList(b);if(d){setDisplayButtons(true)}document.getElementById("result").innerHTML=a;return a}}}setDisplayButtons(false);document.getElementById("result").innerHTML=syscloud()}catch(g){a="System error.["+g+"]";document.getElementById("erms").innerHTML=errstyle(a);document.getElementById("result").innerHTML=""}finally{c();return a}},0);return a};var calcuLen=function(b){var d=b.split(" ");var a=0;for(var c in d){a+=d[c].length}return a};var resultIsCopiable=function(){var a=(document.getElementById("result").innerHTML.indexOf("<html>"))!==-1;return !(a)};function customAlert(c,b){var a=document.createElement("div");a.setAttribute("style","border: solid 3px Green; text-align:center; width:auto;height:4em;background-color:#DEF;color:Gray; font-family:consolas;");a.innerHTML="<h4>"+c+"</h4>";setTimeout(function(){a.parentNode.removeChild(a)},b);document.body.appendChild(a)}var copyToTxtIn=function(){if(document.getElementById("chooseButton").checked!==true){var a=document.getElementById("result").innerHTML.unescapeHTML();a=getOnlyNumbers(a,getChoosenSystem());document.getElementById("txtIn").value=a}else{if(resultIsCopiable()){document.getElementById("txtIn").value=document.getElementById("result").innerHTML.unescapeHTML()}else{clearIn()}}};var getOnlyNumbers=function(d,b){var c=d;var a=/(\r\n|\n|\r)/gm;c.replace(a,"");if(b==="dec"){a=/\D/g}else{if(b==="hex"){a=/(?![0-9a-fA-F])./g}else{if(b==="bin"){a=/(?![0-1])./g}}}return c.replace(a,"")};var clickTheChoosen=function(){if(document.getElementById("chooseButton").checked===true){if(getDataSource()===""){return"false"}return"lista"}else{var b=getChoosenSystem();var c=getOnlyNumbers(document.getElementById("txtIn").value,b);var d=document.getElementById("txtIn").value;if(d.length!==c.length){var a=true;if(a){document.getElementById("txtIn").value=c}else{return"false"}}if(getDataSource()===""){return"false"}return"listaInv"}};var guessFileType=function(d){filetypes={"FF D8 FF":['<img src="data:image/jpg;base64,','"/>',".jpg"],"47 49 46 38":['<img src="data:image/gif;base64,','"/>',".gif"],"49 20 49":['<img src="data:image/tiff;base64,','"/>',".tif"],"49 44 33":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/mpeg;base64,','"/>',".mpg"],"4F 67 67 53":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/ogg;base64,','"/>',".ogg"],"52 49 46 46":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/wav;base64,','"/>',".wav"],"FF F3":['<audio controls="controls" autobuffer="autobuffer"><source src="data:audio/mp3;base64,','"/>',".mp3"],"66 74 79 70":['<video controls><source type="video/mp4" src="data:video/mp4;base64,','"></video>',".mp4"],"25 50 44 46":['<embed src="data:application/pdf;base64,','">',".pdf"],"4D 5A":['<embed src="data:application/octet-stream;base64,','">',".exe"],"50 4B":['<embed src="data:application/x-compressed;base64,','">',".zip"],"50 4B 03 04 14":['<embed src="data:application/java-archive;base64,','">',".jar"],"52 61 72 21 1A 07":['<embed src="data:application/x-rar-compressed','">',".rar"]};for(var f in filetypes){if(filetypes.hasOwnProperty(f)){var e=f.split(" ");if(d.length>=e.length){var c=0;var b=0;for(b=0;b<e.length;b++){var a=d.charCodeAt(b);if(a===parseInt(e[b],16)){c++}else{break}}if(c===e.length){return filetypes[f]}}}}return null};var getTypeFromExt=function(a){switch(a){case".jpg":case".gif":case".tif":return"an image";break;case".mp4":return"a movie";break;case".mpg":case".ogg":case".wav":case".mp3":return"a sound";break;case".pdf":return"a pdf";break;case".exe":return"an executable";break;case".rar":case".zip":return"a compressed";break;case".jar":return"a java";break;default:return"a"}};var guessExtension=function(b){var a=guessFileType(b);if(null!==a){return a[2]}return""};var guessParsing=function(d){var a=null;try{var c=atobNew(utf82rstr(d));a=guessFileType(c)}catch(f){}if(a!==null){return a[0]+utf82rstr(d)+a[1]}else{try{return utf82rstr(atobNew(d)).escapeHTML()}catch(f){var b=utf82rstr(d);return b}}};var lastInput="";var listaInv=function(input,searchWhileType,atEnds){if(arguments.length===2){atEnds=function(){showFileFoundMessage()}}var reproceso=false;if(lastInput===input){reproceso=true}lastInput=input;var result="";setTimeout(function(){try{if(input!==null){var len=input.length;if(len!==0){var confirmSearch=true;var choosen=getChoosenSystem();if(len>MAX_SIZE_LISTINV&&choosen!=="hex"){confirmSearch=window.confirm("BIG Parse!! "+len+" bytes, sure? are you ok?")}if(confirmSearch){result=memoizeListInv(input);if(searchWhileType||reproceso){setDisplayButtons(true)}effect(result);if(document.getElementById("parseEnable").checked){document.getElementById("result").innerHTML=guessParsing(result);var scripts=document.getElementById("result").getElementsByTagName("script");if(scripts!==null){for(var i=0;i<scripts.length;i++){eval(scripts[i].text)}}}else{document.getElementById("result").innerHTML=result.escapeHTML()}return result}}}document.getElementById("result").innerHTML=syscloud()}catch(e){var choosen=getChoosenSystem();result=choosen+" numbers only.";document.getElementById("erms").innerHTML=errstyle(result);document.getElementById("result").innerHTML="";setDisplayButtons(false)}finally{atEnds();return result}},0);return result};var pareceBase64=function(a){if(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/.test(a)){return true}else{return false}};function guardaPlain(b,c){var a=new Blob([c]);saveAs(a,b)}function saveResult(){var d=document.getElementById("result").innerHTML;if(!document.getElementById("chooseButton").checked&&pareceBase64(d)){try{var g=atobNew(d);var c=new ArrayBuffer(g.length);var a=new Uint8Array(c);for(var b=0;b<g.length;b++){a[b]=g.charCodeAt(b)}blob=new Blob([a]);saveAs(blob,"listFile"+guessExtension(g))}catch(f){guardaPlain("listItem.html",d)}}else{guardaPlain("listIndex.html",d)}}function getURLParameter(a){return decodeURI((RegExp(a+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function fireFromURL(){var e=getURLParameter("id");var b=getURLParameter("dl");var d=getURLParameter("guess");var c=getURLParameter("sys");var a=getURLParameter("light");if(e!==null&&e!=="null"&&e!==undefined){document.getElementById("chooseButton").checked=true;document.getElementById("txtIn").value=e;if(d!==null&&d!=="null"&&d!==undefined){if(d==="true"){document.getElementById("parseEnable").checked=true}else{document.getElementById("parseEnable").checked=false}}if(c!==null&&c!=="null"&&c!==undefined){document.getElementById("numbersystem").value=c}if(a!==null&&a!=="null"&&a!==undefined&&a==="off"){css("body","background","black");css("body","color","black")}else{normalizeCSS()}document.getElementById("chooseButton").checked=false;escondeDuende();if(b!==null&&b!=="null"&&b!==undefined&&b==="true"){listaInv(e,true,saveResult)}else{listaInv(e,true)}}};