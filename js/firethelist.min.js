var pfx=["webkit","moz","MS","o",""];function prefixedEvent(a,b,d){for(var c=0;c<pfx.length;c++){if(!pfx[c]){b=b.toLowerCase()}a.addEventListener(pfx[c]+b,d,false)}}markTextInAsModificado=function(){document.getElementById("txtIn").style.background="#FFFFFF";document.getElementById("erms").innerHTML=""};var atEndAnimationListener=function(){if(stateProcess.localeCompare("inicio")===0){stateProcess="buscar";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende buscar"}else{duendeActual.className="duende reverse buscar"}var a=function(){stateProcess="final";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende final"}else{duendeActual.className="duende reverse final"}};if(nextThingToDo==="lista"){setTimeout(function(){lista(getDataSource(),false,a)},1000)}else{setTimeout(function(){listaInv(getDataSource(),false,a)},1000)}}else{if(stateProcess.localeCompare("final")===0){document.getElementById("erms").innerHTML="";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende stop";setDisplayDownload(true);setVisibleButtons(true)}else{duendeActual.className="duende reverse stop";setDisplayButtons(true);setVisibleButtons(true);document.getElementById("erms").innerHTML=getFileFoundMessage(document.getElementById("result").innerHTML)}document.getElementById("result").style.visibility="visible"}}};var duendeActual=document.getElementById("duende");var stateProcess="";var nextThingToDo="";animateAndSearch=function(){if(document.getElementById("txtIn").value!==""){nextThingToDo=clickTheChoosen();if(nextThingToDo!=="false"){var a=duendeActual.cloneNode(true);duendeActual.parentNode.replaceChild(a,duendeActual);duendeActual=a;duendeActual.onclick=animateAndSearch;prefixedEvent(duendeActual,"AnimationEnd",atEndAnimationListener);setVisibleButtons(false);document.getElementById("result").style.visibility="hidden";stateProcess="inicio";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende inicio"}else{duendeActual.className="duende reverse inicio"}}return}};var fireList=function(b){var c="nada";if(arguments.length!==0){b=b||event;c=b.keyCode||b.charCode}markTextInAsModificado();if(c!==33&&c!==34||c==="nada"){setDataSourceToKeyboard(false);var f=document.getElementById("txtIn").value;var e=f.length;if(e>0){var h=document.getElementById("chooseButton").checked;if((e<=MAX_SEARCH_LEN_DATA_TO_NUMBER&&h)||(e<=MAX_SEARCH_LEN_NUMBER_TO_DATA&&!h)){escondeDuende();document.getElementById("erms").innerHTML="";if(h===true){lista(f,true)}else{var j=getChoosenSystem();var g=getOnlyNumbers(f,j);if(f.length!==g.length){var d=true;if(d){document.getElementById("txtIn").value=g;listaInv(g,true);var a=getChoosenSystem();var i=a+" numbers only.";setVisibleButtons(false);document.getElementById("erms").innerHTML=errstyle(i)}else{document.getElementById("chooseButton").checked=true}}else{listaInv(f,true)}}}else{setTimeout(function(){setVisibleButtons(false);document.getElementById("erms").innerHTML=systyle(" touch elf for more!");document.getElementById("result").innerHTML="";muestraDuende()},0)}}else{setVisibleButtons(false);lista("",true);setTimeout(function(){document.getElementById("erms").innerHTML=syscloud();document.getElementById("result").innerHTML="";escondeDuende()},0)}}return true};