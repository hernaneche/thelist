var pfx=["webkit","moz","MS","o",""];function prefixedEvent(elmnt,type,callback){for(var p=0;p<pfx.length;p++){if(!pfx[p]){type=type.toLowerCase()}elmnt.addEventListener(pfx[p]+type,callback,false)}}markTextInAsModificado=function(){document.getElementById("erms").innerHTML=""};var atEndAnimationListener=function(){if(stateProcess.localeCompare("inicio")===0){stateProcess="buscar";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende buscar"}else{duendeActual.className="duende reverse buscar"}var atListaEnd=function(){stateProcess="final";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende final"}else{duendeActual.className="duende reverse final"}};if(nextThingToDo==="lista"){setTimeout((function(){lista(getDataSource(),false,atListaEnd)}),1e3)}else{setTimeout((function(){listaInv(getDataSource(),false,atListaEnd)}),1e3)}}else if(stateProcess.localeCompare("final")===0){document.getElementById("erms").innerHTML="";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende stop";setDisplayDownload(true);setVisibleButtons(true)}else{duendeActual.className="duende reverse stop";setDisplayButtons(true);setVisibleButtons(true);document.getElementById("erms").innerHTML=getFileFoundMessage(document.getElementById("result").innerHTML)}document.getElementById("result").style.visibility="visible"}};var duendeActual=document.getElementById("duende");var stateProcess="";var nextThingToDo="";animateAndSearch=function(){if(document.getElementById("txtIn").value!==""){nextThingToDo=clickTheChoosen();if(nextThingToDo!=="false"){var newone=duendeActual.cloneNode(true);duendeActual.parentNode.replaceChild(newone,duendeActual);duendeActual=newone;duendeActual.onclick=animateAndSearch;prefixedEvent(duendeActual,"AnimationEnd",atEndAnimationListener);setVisibleButtons(false);document.getElementById("result").style.visibility="hidden";stateProcess="inicio";if(document.getElementById("chooseButton").checked===true){duendeActual.className="duende inicio"}else{duendeActual.className="duende reverse inicio"}}}};var fireList=function(evento){var code="nada";if(arguments.length!==0){evento=evento||event;code=evento.keyCode||evento.charCode}markTextInAsModificado();if(code!==33&&code!==34||code==="nada"){setDataSourceToKeyboard(false);var inputRaw=document.getElementById("txtIn").value;var len=inputRaw.length;if(len>0){var data2number=document.getElementById("chooseButton").checked;if(len<=MAX_SEARCH_LEN_DATA_TO_NUMBER&&data2number||len<=MAX_SEARCH_LEN_NUMBER_TO_DATA&&!data2number){escondeDuende();document.getElementById("erms").innerHTML="";if(data2number===true){lista(inputRaw,true)}else{var choosenSystem=getChoosenSystem();var deletedIn=getOnlyNumbers(inputRaw,choosenSystem);if(inputRaw.length!==deletedIn.length){var confirmDelete=true;if(confirmDelete){document.getElementById("txtIn").value=deletedIn;listaInv(deletedIn,true);var choosen=getChoosenSystem();var result=choosen+" numbers only.";console.log(result+":"+e);setVisibleButtons(false);document.getElementById("erms").innerHTML=errstyle(result)}else{document.getElementById("chooseButton").checked=true}}else{listaInv(inputRaw,true)}}}else{setTimeout((function(){setVisibleButtons(false);document.getElementById("erms").innerHTML=systyle(" touch elf for more!");document.getElementById("result").innerHTML="";muestraDuende()}),0)}}else{document.getElementById("parseEnable").checked=false;setVisibleButtons(false);lista("",true);setTimeout((function(){document.getElementById("erms").innerHTML=syscloud();document.getElementById("result").innerHTML="";escondeDuende()}),0)}}return true};